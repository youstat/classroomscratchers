<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Scratch-Off</title>
    <style>
        body {
            text-align: center;
            font-family: Arial, sans-serif;
            background: url('background.jpg') no-repeat center center fixed;
            background-size: cover;
            color: white;
        }
        h1 {
            font-size: 36px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .scratch-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        .scratch-card {
            position: relative;
            width: 180px;
            height: 250px;
            background: gray;
            border: 3px solid black;
            font-size: 40px;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            overflow: hidden;
            border-radius: 10px;
            color: white;
        }
        .prize {
            display: none;
            font-size: 24px;
            font-weight: bold;
            color: black;
            text-align: center;
        }
        .scratch-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: blue;
            z-index: 2;
            cursor: crosshair;
        }
        #refresh-btn {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            background: orange;
            color: white;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Happy Scratch-Off</h1>
    <div class="scratch-container" id="scratch-container"></div>
    <button id="refresh-btn" onclick="createScratchers()">Refresh</button>

    <script>
        let prizes = [
            "Free Homework Pass", "Extra 5 Points on a Quiz", "Free Bag of Chips", "Free Candy",
            "Sit in the Teacherâ€™s Chair for a Day", "5% Deduction from Your Lowest Homework Assignment", 
            "You Are Allowed to Eat in Class for One Day", "You Are Allowed to Listen to Music in Class for One Day", 
            "Choose the Next Class Warm-Up Activity", "Skip One Question on a Quiz", "5 Minutes of Free Time at the End of Class",
            "Turn in an Assignment One Day Late Without Penalty", "Pick a Song for the Class Playlist", "Choose Your Seat for a Day",
            "Get a Hint on the Next Quiz", "Choose a Class Game or Brain Break Activity", "Borrow a Classroom Item Without Signing It Out",
            "One-Time Use of a Calculator on a No-Calculator Quiz", "Lead a Class Discussion or Activity", "One Positive Note Sent Home to Parents"
        ];

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function createScratchers() {
            const container = document.getElementById("scratch-container");
            container.innerHTML = "";
            shuffleArray(prizes);

            for (let i = 0; i < 20; i++) {
                let card = document.createElement("div");
                card.classList.add("scratch-card");
                card.innerHTML = `<span style='font-size: 50px;'>${i + 1}</span><div class='prize'>${prizes[i]}</div><canvas class='scratch-overlay'></canvas>`;
                
                let canvas = card.querySelector(".scratch-overlay");
                let ctx = canvas.getContext("2d");
                canvas.width = 180;
                canvas.height = 250;
                ctx.fillStyle = "gray";
                ctx.fillRect(0, 0, 180, 250);
                
                let isScratching = false;
                function scratch(e) {
                    if (!isScratching) return;
                    let rect = canvas.getBoundingClientRect();
                    let x = e.clientX - rect.left;
                    let y = e.clientY - rect.top;
                    ctx.globalCompositeOperation = "destination-out";
                    ctx.beginPath();
                    ctx.arc(x, y, 20, 0, 2 * Math.PI);
                    ctx.fill();
                }

                canvas.addEventListener("mousedown", () => isScratching = true);
                canvas.addEventListener("mouseup", () => isScratching = false);
                canvas.addEventListener("mousemove", scratch);
                canvas.addEventListener("touchstart", (e) => {
                    isScratching = true;
                    scratch(e.touches[0]);
                });
                canvas.addEventListener("touchmove", (e) => scratch(e.touches[0]));
                canvas.addEventListener("touchend", () => isScratching = false);
                
                card.addEventListener("dblclick", function() {
                    canvas.remove();
                    this.querySelector("span").style.display = "none";
                    this.querySelector(".prize").style.display = "block";
                });
                
                container.appendChild(card);
            }
        }
        
        createScratchers();
    </script>
</body>
</html>
